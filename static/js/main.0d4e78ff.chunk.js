(this.webpackJsonprng=this.webpackJsonprng||[]).push([[0],{42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n.n(c),r=n(47),s=n.n(r),o=n(11),i=(n(56),n(57),n(17)),j=Object(c.createContext)({}),l=Object(c.createContext)({}),u=Object(c.createContext)({}),d=n(5),b={backgroundColor:"#173753"},O=function(){var e=Object(c.useContext)(j),t=e.loggedIn;e.setLoggedIn;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("h1",{children:["Rent&",Object(d.jsx)("span",{children:"Drive"})]}),Object(d.jsx)("nav",{children:Object(d.jsx)("ul",{children:t?null:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.d,{activeStyle:b,exact:!0,to:"/",children:"HOME"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.d,{activeStyle:b,to:"/login",children:"Log In"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.d,{activeStyle:b,to:"/signup",children:"Sign Up"})})]})})})]})},h=(n(42),n(15)),p=n(50),x=n(18),m=Object(p.a)({apiKey:"AIzaSyBg1o0pYWUWQK7H2N83SVy5CTiwzTZpm3U",authDomain:"rentanddrive-968de.firebaseapp.com",projectId:"rentanddrive-968de",storageBucket:"rentanddrive-968de.appspot.com",messagingSenderId:"14524385728",appId:"1:14524385728:web:c69102f4dafb9650762025"}),f=Object(x.e)(),g=n(26),v=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),j=s[0],l=s[1],u=Object(c.useState)(),b=Object(o.a)(u,2),O=b[0],p=b[1],x=Object(h.f)(),f=Object(g.b)(m),v=function(e){e.preventDefault(),Object(g.d)(f,n,j).then((function(e){var t=e.user;x.push("/#/cars"),console.log(t)})).catch((function(e){p(e)}))};return Object(d.jsxs)("div",{className:"login",children:[O&&Object(d.jsx)("p",{children:"Wrong email or password!"}),Object(d.jsxs)("form",{onSubmit:v,children:["Login into account",Object(d.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:function(e){return a(e.target.value)}}),Object(d.jsx)("input",{type:"password",placeholder:"Password",value:j,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Log In"})]}),Object(d.jsx)(i.c,{to:"/signup",children:"Didn't have an account?"})]})},y=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],j=s[1],l=Object(c.useState)(""),u=Object(o.a)(l,2),b=u[0],O=u[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),f=x[0],v=x[1],y=Object(c.useState)(!1),w=Object(o.a)(y,2),S=w[0],N=w[1],C=Object(g.b)(m),k=Object(h.f)();return Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("form",{onSubmit:function(e){v(!1),e.preventDefault(),i===b?Object(g.a)(C,n,i).then((function(e){var t=e.user;Object(g.d)(C,n,i).then((function(e){console.log(e),k.push("/")})).catch((function(e){console.log("Something gone wrong."),console.log(e)})),console.log(t)})).catch((function(e){var t=e.code,n=e.message;console.log(t,n),N(e.code)})):v(!0)},children:["Sign up",Object(d.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:function(e){return a(e.target.value)}}),Object(d.jsx)("input",{type:"password",placeholder:"Password",value:i,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("input",{type:"password",placeholder:"Confirm the password",value:b,onChange:function(e){return O(e.target.value)}}),f&&Object(d.jsx)("p",{className:"error",children:"Has\u0142a nie s\u0105 takie same"}),"auth/email-already-in-use"===S&&Object(d.jsx)("p",{className:"error",children:"An account with the given email already exists"}),Object(d.jsx)("button",{type:"submit",children:"Sing up"})]})})},w=function(){return Object(d.jsx)("h1",{children:"404"})},S=(n(44),function(e){var t=e.title,n=e.text,c=e.icon;return Object(d.jsxs)("div",{className:"welcomePage__box",children:[Object(d.jsx)("i",{className:c,children:" "}),Object(d.jsx)("h1",{children:t}),Object(d.jsx)("span",{children:n})]})}),N=n(0),C=n.n(N),k=n(14),_=n(2),D=(n(65),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(o.a)(r,2),i=s[0],j=s[1],l=n.length,u=function(){var e=Object(_.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(Object(x.b)(f,"cars"));case 2:e.sent.forEach((function(e){a((function(t){return[].concat(Object(k.a)(t),[e.data()])}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u()}),[]),Object(d.jsxs)("div",{className:"slideshow-container",children:[n.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"mySlides1",children:t===i&&Object(d.jsx)("img",{src:e.image,alt:"image"})},t)})})),Object(d.jsx)("a",{className:"prev",onClick:function(){j(0===i?l-1:i-1),console.log(i)},children:"\u276e"}),Object(d.jsx)("a",{className:"next",onClick:function(){j(i===l-1?0:i+1),console.log(i)},children:"\u276f"})]})}),L=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(D,{}),Object(d.jsx)("div",{className:"welcomePage ",children:Object(d.jsxs)("div",{className:"welcomePage__boxes container",children:[Object(d.jsx)(S,{text:"Wi\u0119kszo\u015b\u0107 rezerwacji mo\u017cna odwo\u0142a\u0107 lub zmieni\u0107 bezp\u0142atnie do 48 godzin przed odbiorem samochodu.",title:"Elastyczne zasady wynajmu",icon:"far fa-edit"}),Object(d.jsx)(S,{text:"Wiesz dok\u0142adnie, ile p\u0142acisz.",title:"Bez ukrytych op\u0142at",icon:"fas fa-search"}),Object(d.jsx)(S,{text:"Znalaz\u0142e\u015b tak\u0105 sam\u0105 ofert\u0119 za mniej? Wyr\xf3wnamy r\xf3\u017cnic\u0119 w cenie",title:"Gwarancja ceny",icon:"fas fa-hand-holding-usd"})]})}),Object(d.jsx)("div",{className:"welcomePage__newsletter",children:Object(d.jsxs)("div",{className:"container newsletter",children:[Object(d.jsx)("div",{className:"newsletter__title",children:"Sign up for our newsletter"}),Object(d.jsx)("div",{className:"newsletter__form",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{type:"text"}),Object(d.jsx)("button",{children:"Sign up"})]})})]})})]})},z=(n(66),function(e){var t=e.user,n=e.signOut;return Object(d.jsxs)("div",{className:"content__header",children:[Object(d.jsxs)("h1",{children:["Hello ",Object(d.jsx)("span",{children:t.email})]}),Object(d.jsxs)("div",{className:"content__button",children:[Object(d.jsx)("button",{className:"signOut",onClick:n,children:"Sign Out"}),Object(d.jsx)("span",{children:(new Date).toLocaleDateString()})]})]})}),I=(n(67),function(){var e={backgroundColor:"#2892d7",padding:".25rem 1rem",borderRadius:"4px",color:"white"};return Object(d.jsx)("div",{className:"navlist",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)(i.d,{activeStyle:e,exact:!0,to:"/cars",children:"Cars"}),Object(d.jsx)(i.d,{activeStyle:e,to:"/history",children:"History"}),Object(d.jsx)(i.d,{activeStyle:e,to:"/orders",children:"Order"})]})})}),E=n(31),P=(n(45),function(e){var t=e.vehicle,n=Object(c.useState)(!0),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(h.f)(),j=Object(c.useContext)(l),u=j.order,b=j.setOrder;return Object(d.jsxs)("div",{onClick:function(){s(!r),console.log(t.rented)},className:t.rented?"notRented":"rented",children:[Object(d.jsx)("div",{style:{height:270,width:400,backgroundImage:"url(".concat(t.image,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",borderRadius:10}}),Object(d.jsxs)("h3",{children:[t.brand," ",t.model]}),Object(d.jsxs)("p",{children:["Price: ",Object(d.jsx)("span",{children:t.priceForDay})," z\u0142 / 1 day"]}),Object(d.jsxs)("div",{className:"car__info",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fas fa-gas-pump"})," ",t.engineType]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{className:"fas fa-tachometer-alt"})," ",t.hp," KM"]})]}),t.rented&&Object(d.jsx)("button",{className:"rent__now",style:{display:r&&"none"},onClick:function(){b((function(e){return Object(E.a)(Object(E.a)({},e),{},{id:t.id,price:t.priceForDay,car:"".concat(t.brand," ").concat(t.model)})})),i.push("/orders"),console.log(u)},children:"Rent now"})]})}),F=function(){var e=Object(c.useContext)(l).cars;return Object(d.jsxs)("div",{className:"cars__container",children:[e.map((function(e){return Object(d.jsx)(P,{vehicle:e},e.id)})),console.log(e)]})},R=function(e){var t=e.order;return Object(d.jsxs)("li",{children:["Order: ",t.carId," ",t.car," ",Math.round(t.price)," z\u0142 / ",t.howLong," days"]})},W=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(l).user,s=function(){var e=Object(_.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(Object(x.b)(f,"orders"));case 2:e.sent.forEach((function(e){a((function(t){return[].concat(Object(k.a)(t),[e.data()])}))})),console.log("Dodawanie do stanu");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{children:n.map((function(e){if(e.email===r.email)return Object(d.jsx)(R,{order:e},e.carId)}))})})},H=n(4),M=n(51),U=(n(46),function(e){var t=e.cars,n=e.order,c=e.sendOrder,a=e.changeState;return Object(d.jsxs)("form",{className:"orderform__inputs",onSubmit:c,children:[Object(d.jsx)("input",{type:"text",name:"email",value:n.email,onChange:a}),Object(d.jsxs)("select",{name:"car",onChange:a,value:n.car,children:[Object(d.jsx)("option",{value:"main",children:"chose a car..."}),t.map((function(e){if(!0===e.rented)return Object(d.jsxs)("option",{value:"".concat(e.brand," ").concat(e.model),children:[e.brand," ",e.model]})}))]}),n.price&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:"PLN/DAY"}),Object(d.jsx)("input",{name:"price",type:"string",value:+n.price,placeholder:"Price for a day",onChange:a}),n.howLong>=30&&Object(d.jsx)("p",{className:"discount",children:"for rentals over 30 days, 30% discount"})]}),Object(d.jsx)("input",{type:"text",name:"name",value:n.name,placeholder:"Name",onChange:a}),Object(d.jsx)("input",{type:"text",name:"secondName",value:n.secondName,placeholder:"Second name",onChange:a}),Object(d.jsx)("input",{type:"text",name:"city",value:n.city,placeholder:"City",onChange:a}),"FROM",Object(d.jsx)("input",{type:"date",value:n.startingDate,name:"startingDate",onChange:a}),"HOW LONG ",Object(d.jsx)("input",{type:"number",value:n.howLong,name:"howLong",onChange:a}),Object(d.jsx)("button",{type:"submit",children:"Confirm"})]})}),A=function(){var e=Object(c.useContext)(l),t=e.user,n=e.order,a=e.setOrder,r=e.cars,s=e.setCars,o=e.setChanges,i=e.changes,j=Object(h.f)(),b=function(){var e=Object(_.a)(C.a.mark((function e(){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(Object(x.b)(f,"orders"),{carId:n.id,email:t.email,name:n.name,secondName:n.secondName,price:n.howLong>=30?n.price*n.howLong-n.price*n.howLong*.3:n.price*n.howLong,howLong:+n.howLong,city:n.city,car:n.car,startingDate:n.startingDate});case 2:return c=Object(x.c)(f,"cars",n.id),e.next=5,Object(x.f)(c,{rented:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(u.Provider,{value:{order:n,setOrder:a},children:Object(d.jsx)("div",{className:"orderform",children:Object(d.jsx)(U,{order:n,cars:r,changeState:function(e){a((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(H.a)({},e.target.name,e.target.value))}))},sendOrder:function(e){e.preventDefault(),""===n.name||""===n.secondName||!1===n.price||""===n.howLong||""===n.city||""===n.startingDate||"main"===n.car?alert("Uzupe\u0142nij wszystkie pola"):(b(),function(e){e.preventDefault(),M.a.sendForm("service_ee6fdce","template_7qnvnca",e.target,"user_A15MCKLmhVpXodXzxPX9v").then((function(e){console.log(e.text),alert("Email has been sent, check your inbox."),j.push("/cars"),s([]),o(!i)}),(function(e){console.log("Something went wrong! :(",e)}))}(e))}},n.id)})})},B=function(e){var t=e.signOut,n=e.user,a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],j=r[1],u=Object(c.useState)({id:"",email:n.email,name:"",secondName:"",price:!1,howLong:0,city:"",car:"main",startingDate:""}),b=Object(o.a)(u,2),O=b[0],p=b[1],m=Object(c.useState)([]),g=Object(o.a)(m,2),v=g[0],y=g[1];v.filter((function(e){return"".concat(e.brand," ").concat(e.model)===O.car&&(O.price=e.priceForDay),null}));var w=function(){var e=Object(_.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(Object(x.b)(f,"cars"));case 2:e.sent.forEach((function(e){y((function(t){return[].concat(Object(k.a)(t),[e.data()])}))})),console.log("Dodawanie do stanu");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){w()}),[s]),Object(d.jsx)(l.Provider,{value:{user:n,order:O,setOrder:p,cars:v,setCars:y,getData:w,setChanges:j,changes:s},children:Object(d.jsxs)("div",{className:"content container",children:[Object(d.jsx)(z,{user:n,signOut:t}),Object(d.jsxs)(i.b,{children:[Object(d.jsx)(I,{}),Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{path:"/cars",component:F}),Object(d.jsx)(h.a,{path:"/history",component:W}),Object(d.jsx)(h.a,{path:"/orders",component:A})]})]})]})})},K=function(){var e=Object(c.useState)(Object(d.jsx)(L,{})),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(j).setLoggedIn,s=Object(g.b)(m);return Object(c.useEffect)((function(){Object(g.c)(s,(function(e){e?(r(!0),a(Object(d.jsx)(B,{signOut:function(){Object(g.e)(s).then((function(){console.log("U\u017cytkownik wylogowany"),r(!1)})).catch((function(e){console.log(e)}))},user:e}))):a(Object(d.jsx)(L,{}))}))}),[]),n},T=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)(j.Provider,{value:{loggedIn:n,setLoggedIn:a},children:Object(d.jsx)("div",{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(O,{}),Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{path:"/",exact:!0,component:K}),Object(d.jsx)(h.a,{path:"/login",component:v}),Object(d.jsx)(h.a,{path:"/signup",component:y}),Object(d.jsx)(h.a,{path:"*",component:w})]})]})})})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.0d4e78ff.chunk.js.map